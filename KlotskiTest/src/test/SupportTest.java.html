<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>SupportTest.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">SupportTest (3) (4 set 2023 18:50:32)</a> &gt; <a href="../../index.html" class="el_group">KlotskiTest</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">test</a> &gt; <span class="el_source">SupportTest.java</span></div><h1>SupportTest.java</h1><pre class="source lang-java linenums">package test;

import static org.junit.jupiter.api.Assertions.*;

import java.util.HashMap;
import java.util.Map;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import application.Support;
import javafx.scene.Node;
import javafx.scene.layout.GridPane;
import javafx.scene.shape.Rectangle;

<span class="fc" id="L16">class SupportTest {</span>

	private Map&lt;Rectangle, Integer[]&gt; initialPositions;
	private GridPane board;
    private Rectangle piece1;
    private Rectangle piece2;
    private Rectangle piece3;

    @BeforeEach
    void setUp() {
<span class="fc" id="L26">        initialPositions = new HashMap&lt;&gt;();</span>
<span class="fc" id="L27">        piece1 = new Rectangle(100,100);</span>
<span class="fc" id="L28">        piece2 = new Rectangle(100,200);</span>
<span class="fc" id="L29">        piece3 = new Rectangle(200,100);</span>
<span class="fc" id="L30">        piece1.setId(&quot;piece1&quot;);</span>
<span class="fc" id="L31">        piece2.setId(&quot;piece2&quot;);</span>
<span class="fc" id="L32">        piece3.setId(&quot;piece3&quot;);</span>
<span class="fc" id="L33">        GridPane.setRowIndex(piece1, 0);</span>
<span class="fc" id="L34">        GridPane.setColumnIndex(piece1, 0);</span>
<span class="fc" id="L35">        initialPositions.put(piece1, new Integer[]{0, 0});</span>

<span class="fc" id="L37">        GridPane.setRowIndex(piece2, 1);</span>
<span class="fc" id="L38">        GridPane.setColumnIndex(piece2, 1);</span>
<span class="fc" id="L39">        initialPositions.put(piece2, new Integer[]{1, 1});</span>

<span class="fc" id="L41">        GridPane.setRowIndex(piece3, 2);</span>
<span class="fc" id="L42">        GridPane.setColumnIndex(piece3, 2);</span>
<span class="fc" id="L43">        initialPositions.put(piece3, new Integer[]{2, 2});</span>
<span class="fc" id="L44">    }</span>
	
    @Test
    void testIsMoveWithinBoundsForType1() {
        // Test with type 1, where maxRows=5 and maxColumns=3
<span class="fc" id="L49">        assertTrue(Support.isMoveWithinBounds(0, 0, 1));</span>
<span class="fc" id="L50">        assertTrue(Support.isMoveWithinBounds(4, 2, 1));</span>

        // Out of bounds cases
<span class="fc" id="L53">        assertFalse(Support.isMoveWithinBounds(5, 2, 1));</span>
<span class="fc" id="L54">        assertFalse(Support.isMoveWithinBounds(2, 3, 1));</span>
<span class="fc" id="L55">        assertFalse(Support.isMoveWithinBounds(-1, 0, 1));</span>
<span class="fc" id="L56">    }</span>

    @Test
    void testIsMoveWithinBoundsForType2() {
        // Test with type 2, where maxRows=4 and maxColumns=4
<span class="fc" id="L61">        assertTrue(Support.isMoveWithinBounds(0, 0, 2));</span>
<span class="fc" id="L62">        assertTrue(Support.isMoveWithinBounds(3, 3, 2));</span>

        // Out of bounds cases
<span class="fc" id="L65">        assertFalse(Support.isMoveWithinBounds(4, 2, 2));</span>
<span class="fc" id="L66">        assertFalse(Support.isMoveWithinBounds(2, 4, 2));</span>
<span class="fc" id="L67">        assertFalse(Support.isMoveWithinBounds(-1, 0, 2));</span>
<span class="fc" id="L68">    }</span>

    @Test
    void testIsMoveWithinBoundsForType3() {
        // Test with type 3, where maxRows=4 and maxColumns=3
<span class="fc" id="L73">        assertTrue(Support.isMoveWithinBounds(0, 0, 3));</span>
<span class="fc" id="L74">        assertTrue(Support.isMoveWithinBounds(3, 2, 3));</span>

        // Out of bounds cases
<span class="fc" id="L77">        assertFalse(Support.isMoveWithinBounds(4, 2, 3));</span>
<span class="fc" id="L78">        assertFalse(Support.isMoveWithinBounds(2, 3, 3));</span>
<span class="fc" id="L79">        assertFalse(Support.isMoveWithinBounds(-1, 0, 3));</span>
<span class="fc" id="L80">    }</span>

    @Test
    void testIsMoveWithinBoundsForInvalidType() {
        // Test with an invalid type (default case)
        // The method should return false for any input since it's trying to move an illegal piece
<span class="fc" id="L86">        assertFalse(Support.isMoveWithinBounds(0, 0, 0));</span>
<span class="fc" id="L87">        assertFalse(Support.isMoveWithinBounds(3, 3, 0));</span>
<span class="fc" id="L88">        assertFalse(Support.isMoveWithinBounds(5, 2, 0));</span>
<span class="fc" id="L89">        assertFalse(Support.isMoveWithinBounds(2, 4, 0));</span>
<span class="fc" id="L90">        assertFalse(Support.isMoveWithinBounds(-1, 0, 0));</span>
<span class="fc" id="L91">    }</span>

    @Test
    void testCheckForOverlapNoOverlap() {
<span class="fc" id="L95">        Rectangle pieceToCheck = new Rectangle(100, 100);</span>
<span class="fc" id="L96">        GridPane.setRowIndex(pieceToCheck, 3);</span>
<span class="fc" id="L97">        GridPane.setColumnIndex(pieceToCheck, 3);</span>

<span class="fc" id="L99">        assertFalse(Support.checkForOverlap(pieceToCheck, 3, 3, initialPositions));</span>
<span class="fc" id="L100">    }</span>

    @Test
    void testCheckForOverlapFullOverlap() {
<span class="fc" id="L104">        Rectangle pieceToCheck = new Rectangle(150, 150);</span>
<span class="fc" id="L105">        GridPane.setRowIndex(pieceToCheck, 1);</span>
<span class="fc" id="L106">        GridPane.setColumnIndex(pieceToCheck, 1);</span>

<span class="fc" id="L108">        assertTrue(Support.checkForOverlap(pieceToCheck, 1, 1, initialPositions));</span>
<span class="fc" id="L109">    }</span>

    @Test
    void testCheckForOverlapPartialOverlap() {
<span class="fc" id="L113">        Rectangle pieceToCheck = new Rectangle(100, 100);</span>
<span class="fc" id="L114">        GridPane.setRowIndex(pieceToCheck, 1);</span>
<span class="fc" id="L115">        GridPane.setColumnIndex(pieceToCheck, 1);</span>
<span class="fc" id="L116">        assertTrue(Support.checkForOverlap(pieceToCheck, 1, 1, initialPositions));</span>
<span class="fc" id="L117">    }</span>
    
    @BeforeEach
    void setUpNode() {
        // Create a new GridPane for each test
<span class="fc" id="L122">        board = new GridPane();</span>
<span class="fc" id="L123">    }</span>
    
    @Test
    void testGetNodeAtPositionNodeFound() {
        // Create a Rectangle and add it to the GridPane at row 1, column 1
<span class="fc" id="L128">        Rectangle expectedNode = new Rectangle();</span>
<span class="fc" id="L129">        GridPane.setRowIndex(expectedNode, 1);</span>
<span class="fc" id="L130">        GridPane.setColumnIndex(expectedNode, 1);</span>
<span class="fc" id="L131">        board.getChildren().add(expectedNode);</span>

        // Call the getNodeAtPosition method to find the node at row 1, column 1
<span class="fc" id="L134">        Node actualNode = Support.getNodeAtPosition(board, 1, 1);</span>

        // Assert that the expected node is returned
<span class="fc" id="L137">        assertEquals(expectedNode, actualNode);</span>
<span class="fc" id="L138">    }</span>

    @Test
    void testGetNodeAtPositionNodeNotFound() {
        // Call the getNodeAtPosition method when no node is present at row 2, column 2
<span class="fc" id="L143">        Node actualNode = Support.getNodeAtPosition(board, 2, 2);</span>

        // Assert that null is returned, indicating no node was found
<span class="fc" id="L146">        assertNull(actualNode);</span>
<span class="fc" id="L147">    }</span>
    
    @Test
    void testIsWinBlockInTargetPosition() {
        // Create a new GridPane for testing
<span class="fc" id="L152">        GridPane board = new GridPane();</span>

        // Create a Rectangle and add it to the GridPane at the target position
<span class="fc" id="L155">        Rectangle block = new Rectangle();</span>
<span class="fc" id="L156">        GridPane.setRowIndex(block, 3);</span>
<span class="fc" id="L157">        GridPane.setColumnIndex(block, 1);</span>
<span class="fc" id="L158">        board.getChildren().add(block);</span>

        // Call the isWin method to check if the block is in the target position
<span class="fc" id="L161">        boolean result = Support.isWin(board, block);</span>

        // Assert that the method returns true when the block is in the target position
<span class="fc" id="L164">        assertTrue(result);</span>
<span class="fc" id="L165">    }</span>

    @Test
    void testIsWinBlockNotInTargetPosition() {
        // Create a new GridPane for testing
<span class="fc" id="L170">        GridPane board = new GridPane();</span>

        // Create a Rectangle and add it to the GridPane at a different position
<span class="fc" id="L173">        Rectangle block = new Rectangle();</span>
<span class="fc" id="L174">        GridPane.setRowIndex(block, 2);</span>
<span class="fc" id="L175">        GridPane.setColumnIndex(block, 2);</span>
<span class="fc" id="L176">        board.getChildren().add(block);</span>

        // Call the isWin method to check if the block is in the target position
<span class="fc" id="L179">        boolean result = Support.isWin(board, block);</span>

        // Assert that the method returns false when the block is not in the target position
<span class="fc" id="L182">        assertFalse(result);</span>
<span class="fc" id="L183">    }</span>
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span>SupportTest (3) (4 set 2023 18:50:32)</div></body></html>